{"version":3,"file":"model-destroy.js","sourceRoot":"","sources":["model-destroy.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAEzC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AACnF,OAAO,EAAE,wBAAwB,EAAE,MAAM,iCAAiC,CAAC;AAE3E;;;;;GAKG;AACH,MAAM,CAAC,MAAM,MAAM,GAAe;IAChC,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,sCAAsC,EAAE;IAChE,KAAK,EAAE,cAAc;CACtB,CAAC;AAaF;;;;;;;GAOG;AACH,MAAM,eAAgB,SAAQ,SAAmC;IAC/D,YAAY,KAAS;QACnB,KAAK,CAAC,KAAK,CAAC,CAAC;QAOf;;;;;;WAMG;QACH,iBAAY,GAAG,KAAK,IAAI,EAAE;YACxB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,MAAM,QAAQ,GAAG,MAAM,wBAAwB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACvE,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF;;;;;WAKG;QACH,eAAU,GAAG,GAAG,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;QACxC,CAAC,CAAC;QAEF;;;;;WAKG;QACH,gBAAW,GAAG,GAAG,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF;;;;;WAKG;QACH,sBAAiB,GAAG,CAAC,CAAsC,EAAE,EAAE;YAC7D,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;QAC/C,CAAC,CAAC;QAhDA,IAAI,CAAC,KAAK,GAAG;YACX,SAAS,EAAE,EAAE;YACb,YAAY,EAAE,KAAK;SACpB,CAAC;IACJ,CAAC;IA8CD;;;;;;OAMG;IACH,MAAM;QACJ,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE/C,OAAO,CACL,8BACE,mBAAS,SAAS,EAAC,0BAA0B,aAC3C,KAAC,SAAS,IACR,KAAK,EAAC,YAAY,EAClB,KAAK,EAAE,SAAS,EAChB,cAAc,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAChD,EACF,KAAC,MAAM,IAAC,OAAO,EAAE,IAAI,CAAC,UAAU,6BAEvB,IACD,EACV,KAAC,MAAM,IAAC,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,YACnG,0BACE,mIACkE,EAClE,eAAK,SAAS,EAAC,YAAY,aACzB,KAAC,MAAM,IAAC,KAAK,EAAC,eAAe,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,oBAE/C,EACT,KAAC,MAAM,IAAC,KAAK,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,mBAE1C,IACL,IACF,GACC,IACR,CACJ,CAAC;IACJ,CAAC;CACF;AAED,eAAe,eAAe,CAAC","sourcesContent":["import React, { Component } from 'react';\nimport { ViewConfig } from '@vaadin/hilla-file-router/types.js';\nimport { Button, Notification, TextField, Dialog } from '@vaadin/react-components';\nimport { MergeDestroyModelService } from 'Frontend/generated/endpoints.js';\n\n/**\n * {@link config}\n * <p>\n *   Configuration for the view, including menu order, icon, and title.\n * </p>\n */\nexport const config: ViewConfig = {\n  menu: { order: 4, icon: 'line-awesome/svg/trash-alt-solid.svg' },\n  title: 'Delete Model',\n};\n\n/**\n * {@link DeleteModelViewState}\n * <p>\n *   Interface for the state of the DeleteModelView component.\n * </p>\n */\ninterface DeleteModelViewState {\n  modelPath: string;\n  dialogOpened: boolean;\n}\n\n/**\n * {@link DeleteModelView}\n * <p>\n *   This component allows users to delete a model by providing its path.\n *   It includes an input field for the model path and a button to trigger the deletion.\n *   A dialog is shown to confirm the deletion action.\n * </p>\n */\nclass DeleteModelView extends Component<{}, DeleteModelViewState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      modelPath: '',\n      dialogOpened: false\n    };\n  }\n\n  /**\n   * {@link handleDelete}\n   * <p>\n   *   This function handles the delete action by calling the MergeDestroyModelService.\n   *   It shows a notification with the response and closes the dialog.\n   * </p>\n   */\n  handleDelete = async () => {\n    const { modelPath } = this.state;\n    const response = await MergeDestroyModelService.deleteModel(modelPath);\n    Notification.show(response);\n    this.setState({ dialogOpened: false });\n  };\n\n  /**\n   * {@link openDialog}\n   * <p>\n   *   This function opens the confirmation dialog.\n   * </p>\n   */\n  openDialog = () => {\n    this.setState({ dialogOpened: true });\n  };\n\n  /**\n   * {@link closeDialog}\n   * <p>\n   *   This function closes the confirmation dialog.\n   * </p>\n   */\n  closeDialog = () => {\n    this.setState({ dialogOpened: false });\n  };\n\n  /**\n   * {@link handleInputChange}\n   * <p>\n   *   This function updates the state with the value of the model path input field.\n   * </p>\n   */\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ modelPath: e.target.value });\n  };\n\n  /**\n   * {@link render}\n   * <p>\n   *   This function renders the component, including an input field for the model path,\n   *   a button to trigger the deletion, and a confirmation dialog.\n   * </p>\n   */\n  render() {\n    const { modelPath, dialogOpened } = this.state;\n\n    return (\n      <>\n        <section className=\"flex p-m gap-m items-end\">\n          <TextField\n            label=\"Model Path\"\n            value={modelPath}\n            onValueChanged={(e) => this.handleInputChange(e)}\n          />\n          <Button onClick={this.openDialog}>\n            Delete Model\n          </Button>\n        </section>\n        <Dialog opened={dialogOpened} onOpenedChanged={(e) => this.setState({ dialogOpened: e.detail.value })}>\n          <div>\n            <p>Are you sure you want to delete this model?\n              Any work associated with this model will be deleted as well!</p>\n            <div className=\"flex gap-s\">\n              <Button theme=\"primary error\" onClick={this.handleDelete}>\n                Yes\n              </Button>\n              <Button theme=\"secondary\" onClick={this.closeDialog}>\n                No\n              </Button>\n            </div>\n          </div>\n        </Dialog>\n      </>\n    );\n  }\n}\n\nexport default DeleteModelView;\n"]}