{"version":3,"file":"snapshots-view.js","sourceRoot":"","sources":["snapshots-view.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ViewConfig } from '@vaadin/hilla-file-router/types.js';\nimport { Button, Dialog } from '@vaadin/react-components';\nimport { SnapShotService } from 'Frontend/generated/endpoints.js';\n\nexport const config: ViewConfig = {\n  menu: { order: 11, icon: 'line-awesome/svg/solid/camera.svg' },\n  title: 'Snapshots',\n};\n\ninterface SnapshotsViewState {\n  snapshots: string[];\n  dialogOpened: boolean;\n  dialogMessage: string;\n  dialogAction: () => void;\n}\n\nclass SnapshotsView extends Component<{}, SnapshotsViewState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      snapshots: [],\n      dialogOpened: false,\n      dialogMessage: '',\n      dialogAction: () => {},\n    };\n  }\n\n  openDialog = (message: string, action: () => void) => {\n    this.setState({\n      dialogMessage: message,\n      dialogAction: action,\n      dialogOpened: true,\n    });\n  };\n\n  handleDialogClose = () => {\n    this.setState({ dialogOpened: false });\n  };\n\n  listSnapshots = async () => {\n    const snapshots = await SnapShotService.listSnapshots();\n    this.setState({ snapshots });\n  };\n\n  copySnapshot = async () => {\n    const snapshots = await SnapShotService.updateSnapshot();\n    this.setState({ snapshots });\n  };\n\n  createSnapshot = async () => {\n    const snapshots = await SnapShotService.createSnapshot();\n    this.setState({ snapshots });\n  };\n\n  deleteSnapshot = async () => {\n    const snapshots = await SnapShotService.deleteSnapshot();\n    this.setState({ snapshots });\n  };\n\n  render() {\n    const { snapshots, dialogOpened, dialogMessage, dialogAction } = this.state;\n\n    return (\n      <>\n        <section className=\"flex p-m gap-m items-end\">\n          <Button onClick={() => this.openDialog('Are you sure you want to create a snapshot?', this.createSnapshot)} style={{ backgroundColor: 'green' }}>Create Snapshot</Button>\n          <Button onClick={() => this.openDialog('Are you sure you want to list snapshots?', this.listSnapshots)} style={{ backgroundColor: 'blue' }}>List Snapshots</Button>\n          <Button onClick={() => this.openDialog('Are you sure you want to update the snapshot?', this.copySnapshot)} style={{ backgroundColor: 'yellow' }}>Update Snapshot</Button>\n          <Button onClick={() => this.openDialog('Are you sure you want to delete the snapshot?', this.deleteSnapshot)} style={{ backgroundColor: 'red' }}>Delete Snapshot</Button>\n        </section>\n        <ul>\n          {snapshots.map((snapshot) => (\n            <li key={snapshot}>\n              {snapshot}\n              <Button onClick={() => this.openDialog('Are you sure you want to delete this snapshot?', () => this.deleteSnapshot())} style={{ backgroundColor: 'red' }}>Delete</Button>\n            </li>\n          ))}\n        </ul>\n        <Dialog opened={dialogOpened} onOpenedChanged={(e) => this.setState({ dialogOpened: e.detail.value })}>\n          <div>\n            <p>{dialogMessage}</p>\n            <div className=\"flex gap-s\">\n              <Button theme=\"primary\" onClick={() => { dialogAction(); this.handleDialogClose(); }}>\n                Yes\n              </Button>\n              <Button theme=\"secondary\" onClick={this.handleDialogClose}>\n                No\n              </Button>\n            </div>\n          </div>\n        </Dialog>\n      </>\n    );\n  }\n}\n\nexport default SnapshotsView;\n"]}