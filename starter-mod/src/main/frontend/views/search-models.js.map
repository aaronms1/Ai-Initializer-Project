{"version":3,"file":"search-models.js","sourceRoot":"","sources":["search-models.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAEzC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AAC/E,OAAO,EAAE,kBAAkB,EAAE,MAAM,iCAAiC,CAAC;AAErE,MAAM,CAAC,MAAM,MAAM,GAAe;IAChC,IAAI,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,mCAAmC,EAAE;IAC9D,KAAK,EAAE,eAAe;CACvB,CAAC;AAOF,MAAM,gBAAiB,SAAQ,SAAoC;IACjE,YAAY,KAAS;QACnB,KAAK,CAAC,KAAK,CAAC,CAAC;QAOf,iBAAY,GAAG,KAAK,IAAI,EAAE;YACxB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YACnC,MAAM,QAAQ,GAAG,MAAM,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACxD,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,4CAA4C,WAAW,EAAE,EAAE;gBACtF,OAAO,EAAE;oBACP,eAAe,EAAE,UAAU,QAAQ,EAAE;iBACtC;aACF,CAAC,CAAC;YACH,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QAC5B,CAAC,CAAC;QAEF,mBAAc,GAAG,KAAK,EAAE,OAAe,EAAE,EAAE;YACzC,MAAM,KAAK,CAAC,0CAA0C,OAAO,EAAE,EAAE;gBAC/D,MAAM,EAAE,MAAM;aACf,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,sBAAiB,GAAG,CAAC,CAAsC,EAAE,EAAE;YAC7D,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC;QA1BA,IAAI,CAAC,KAAK,GAAG;YACX,WAAW,EAAE,EAAE;YACf,MAAM,EAAE,EAAE;SACX,CAAC;IACJ,CAAC;IAwBD,MAAM;QACJ,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE3C,OAAO,CACL,8BACE,mBAAS,SAAS,EAAC,0BAA0B,aAC3C,KAAC,SAAS,IACR,KAAK,EAAC,cAAc,EACpB,KAAK,EAAE,WAAW,EAClB,cAAc,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAChD,EACF,KAAC,MAAM,IAAC,OAAO,EAAE,IAAI,CAAC,YAAY,8BAEzB,IACD,EACV,MAAC,IAAI,IAAC,KAAK,EAAE,MAAM,EAAE,uBAAuB,QAAC,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,aACnF,KAAC,UAAU,IAAC,IAAI,EAAC,SAAS,EAAC,MAAM,EAAC,UAAU,EAAC,SAAS,SAAG,EACzD,KAAC,UAAU,IAAC,IAAI,EAAC,aAAa,EAAC,MAAM,EAAC,aAAa,EAAC,SAAS,SAAG,EAChE,KAAC,UAAU,IAAC,IAAI,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAC,SAAS,SAAG,EAClD,KAAC,UAAU,IAAC,MAAM,EAAC,SAAS,EAAC,SAAS,kBACnC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CACb,KAAC,MAAM,IAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,yBAE/C,CACV,GACU,IACR,IACN,CACJ,CAAC;IACJ,CAAC;CACF;AAED,eAAe,gBAAgB,CAAC","sourcesContent":["import React, { Component } from 'react';\nimport { ViewConfig } from '@vaadin/hilla-file-router/types.js';\nimport { Button, Grid, GridColumn, TextField } from '@vaadin/react-components';\nimport { HuggingFaceService } from 'Frontend/generated/endpoints.js';\n\nexport const config: ViewConfig = {\n  menu: { order: 10, icon: 'line-awesome/svg/search-solid.svg' },\n  title: 'Search Models',\n};\n\ninterface SearchModelsViewState {\n  searchQuery: string;\n  models: any[];\n}\n\nclass SearchModelsView extends Component<{}, SearchModelsViewState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      searchQuery: '',\n      models: []\n    };\n  }\n\n  handleSearch = async () => {\n    const { searchQuery } = this.state;\n    const apiToken = await HuggingFaceService.getApiToken();\n    const response = await fetch(`https://huggingface.co/api/models?search=${searchQuery}`, {\n      headers: {\n        'Authorization': `Bearer ${apiToken}`\n      }\n    });\n    const models = await response.json();\n    this.setState({ models });\n  };\n\n  handleDownload = async (modelId: string) => {\n    await fetch(`/api/huggingface/downloadModel?modelId=${modelId}`, {\n      method: 'POST'\n    });\n  };\n\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  render() {\n    const { searchQuery, models } = this.state;\n\n    return (\n      <>\n        <section className=\"flex p-m gap-m items-end\">\n          <TextField\n            label=\"Search Query\"\n            value={searchQuery}\n            onValueChanged={(e) => this.handleInputChange(e)}\n          />\n          <Button onClick={this.handleSearch}>\n            Search Models\n          </Button>\n        </section>\n        <Grid items={models} columnReorderingAllowed style={{ height: '75vh', width: '150%' }}>\n          <GridColumn path=\"modelId\" header=\"Model ID\" resizable />\n          <GridColumn path=\"description\" header=\"Description\" resizable />\n          <GridColumn path=\"tags\" header=\"Tags\" resizable />\n          <GridColumn header=\"Actions\" resizable>\n            {({ item }) => (\n              <Button onClick={() => this.handleDownload(item.modelId)}>\n                Download\n              </Button>\n            )}\n          </GridColumn>\n        </Grid>\n      </>\n    );\n  }\n}\n\nexport default SearchModelsView;\n"]}