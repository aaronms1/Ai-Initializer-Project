{"version":3,"file":"search-models.js","sourceRoot":"","sources":["search-models.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ViewConfig } from '@vaadin/hilla-file-router/types.js';\nimport {\n  Button,\n  Grid,\n  GridColumn,\n  TextField,\n  Notification\n} from '@vaadin/react-components';\nimport { DownloadersService } from 'Frontend/generated/endpoints';\nimport { TextFieldValueChangedEvent } from '@vaadin/text-field';\n\nexport const config: ViewConfig = {\n  menu: { order: 12, icon: 'line-awesome/svg/search-solid.svg' },\n  title: 'Search Models'\n};\n\ninterface SearchModelsViewState {\n  searchQuery: string;\n  models: any[];\n}\n\n/**\n * <h1>{@link SearchModelsView}</h1>\n */\nclass SearchModelsView extends Component<{}, SearchModelsViewState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      searchQuery: '',\n      models: []\n    };\n  }\n\n  handleSearch = async () => {\n    const { searchQuery } = this.state;\n    const apiToken = await DownloadersService.download('api_token', '', '');\n    const response = await fetch(`https://huggingface.co/api/models?search=${searchQuery}`, {\n      headers: {\n        'Authorization': `Bearer ${apiToken}`\n      }\n    });\n    const models = await response.json();\n    this.setState({ models });\n    Notification.show('Models searched successfully');\n  };\n\n  handleDownload = async (modelId: string) => {\n    await DownloadersService.download('download', `https://huggingface.co/api/models/${modelId}/download`, '');\n    Notification.show('Model downloaded successfully');\n  };\n\n  handleInputChange = (e: TextFieldValueChangedEvent) => {\n    this.setState({ searchQuery: e.detail.value });\n  };\n\n  render() {\n    const { searchQuery, models } = this.state;\n\n    return (\n      <>\n        <section className=\"flex p-m gap-m items-end\">\n          <TextField\n            label=\"Search Query\"\n            value={searchQuery}\n            onValueChanged={(e) => this.handleInputChange(e)}\n          />\n          <Button onClick={this.handleSearch}>\n            Search Models\n          </Button>\n        </section>\n        <Grid items={models} columnReorderingAllowed\n              style={{ height: '75vh', width: '150%' }}>\n          <GridColumn path=\"modelId\" header=\"Model ID\" resizable />\n          <GridColumn path=\"description\" header=\"Description\" resizable />\n          <GridColumn path=\"tags\" header=\"Tags\" resizable />\n          <GridColumn header=\"Actions\" resizable>\n            {({ item }) => (\n              <Button onClick={() => this.handleDownload(item.modelId)}>\n                Download\n              </Button>\n            )}\n          </GridColumn>\n        </Grid>\n      </>\n    );\n  }\n}\n\nexport default SearchModelsView;\n"]}