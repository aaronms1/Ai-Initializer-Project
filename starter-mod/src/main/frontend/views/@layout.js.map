{"version":3,"file":"@layout.js","sourceRoot":"","sources":["@layout.tsx"],"names":[],"mappings":"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","sourcesContent":["import { createMenuItems, useViewConfig } from '@vaadin/hilla-file-router/runtime.js';\nimport { effect, signal } from '@vaadin/hilla-react-signals';\nimport { AppLayout, DrawerToggle, Icon, ProgressBar, SideNav, SideNavItem } from '@vaadin/react-components';\nimport React, { Suspense, useEffect } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router';\nimport MainMenubar from './components/main-menubar';\nimport { ViewConfig } from '@vaadin/hilla-file-router/types.js';\n\n// export const config: ViewConfig = { menu: { order: 1, icon: 'line-awesome/svg/home-solid.svg' , title: '' } };\n// const documentTitleSignal = signal('');\n// effect(() => {\n//   document.title = documentTitleSignal.value;\n// });\n// // Publish for Vaadin to use\n// (window as any).Vaadin.documentTitleSignal = documentTitleSignal;\n\nconst initializeConfigAndTitleSignal = () => {\n  // Configuration for the view\n  const config: ViewConfig = { menu: { order: 1, icon: 'line-awesome/svg/home-solid.svg', title: '' } };\n\n  // Signal for document title\n  const documentTitleSignal = signal('');\n  effect(() => {\n    document.title = documentTitleSignal.value;\n  });\n\n  // Publish for Vaadin to use\n  (window as any).Vaadin.documentTitleSignal = documentTitleSignal;\n\n  {/**\n   * Return the configuration and the signal for document title to the router(routes.tsx) to use.\n   */}\n  return { config, documentTitleSignal };\n};\n\n// Call the function to initialize\nexport const { config, documentTitleSignal } = initializeConfigAndTitleSignal();\n\nconst MainLayout: React.FC = () => {\n  const currentTitle = useViewConfig()?.title;\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (currentTitle) {\n      documentTitleSignal.value = currentTitle;\n    }\n  }, [currentTitle]);\n\n  // Filter the menu items to include only the desired view components\n  const menuItems\n    = createMenuItems().filter(({ to }) =>\n    ['/chat-client'\n      , '/clone-model'\n      , '/content-gallery'\n      , '/directories-files'\n      , '/embedding-settings'\n      , '/load-unload'\n      , '/hello-world'\n      , '/main-message-list'\n      , '/metrics'\n      , '/model-destroy'\n      , '/model-merge'\n      , '/model-settings'\n      , '/search-models'\n      , '/servers'\n      , '/snapshots'\n      , '/system-settings'].includes(to)\n  );\n\n  return (\n    <AppLayout primarySection=\"drawer\">\n      <div slot=\"drawer\" className=\"flex flex-col justify-between h-full p-m\">\n        <header className=\"flex flex-col gap-m\">\n          <span className=\"font-semibold text-l\">Tools Nav</span>\n          <SideNav onNavigate={({ path }) => navigate(path!)} location={location}>\n            {menuItems.map(({ to, title, icon }) => (\n              <SideNavItem path={to} key={to}>\n                {icon ? <Icon src={icon} slot=\"prefix\"></Icon> : <></>}\n                {title}\n              </SideNavItem>\n            ))}\n          </SideNav>\n        </header>\n      </div>\n\n      <DrawerToggle slot=\"navbar\" aria-label=\"Menu toggle\"></DrawerToggle>\n      <div slot=\"navbar\" className=\"flex justify-between items-center w-full\">\n        <h1 className=\"text-l m-0\">{documentTitleSignal}</h1>\n        <MainMenubar />\n      </div>\n\n      <Suspense fallback={<ProgressBar indeterminate className=\"m-0\" />}>\n        <section className=\"view\">\n          <Outlet />\n        </section>\n      </Suspense>\n    </AppLayout>\n  );\n}\n\nexport default MainLayout;\n"]}